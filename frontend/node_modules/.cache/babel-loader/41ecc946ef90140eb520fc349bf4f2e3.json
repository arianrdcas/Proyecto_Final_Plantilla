{"ast":null,"code":"var _jsxFileName = \"D:\\\\ProyectosArian\\\\final-zombiz\\\\src\\\\components\\\\Form2.js\",\n    _s = $RefreshSig$();\n\nimport { useState } from \"react\";\nimport FormRegister from \"./FormRegister\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Form2 = () => {\n  _s();\n\n  /*const [state, setState] = useState ({\r\n      username: sessionStorage.getItem('username') ? sessionStorage.getItem('username') : '',\r\n      username: sessionStorage.getItem('password') ? sessionStorage.getItem('password') : '',  \r\n  })*/\n  const [state, setState] = useState({\n    username: '',\n    password: '',\n    mensaje: '',\n    error: null,\n    rememberme: true\n  });\n\n  const onSubmit = e => {\n    e.preventDefault();\n    console.log(\"Enviando formulario\");\n    let hasError = false;\n\n    if (e.target.username.value === \"\") {\n      setState(prevState => {\n        return { ...prevState,\n          error: { ...prevState.error,\n            username: {\n              msg: 'Username is required'\n            }\n          }\n        };\n      });\n      hasError = true;\n    } else {\n      setState(prevState => {\n        var _prevState$error;\n\n        (_prevState$error = prevState.error) === null || _prevState$error === void 0 ? true : delete _prevState$error.username;\n        return { ...prevState\n        };\n      });\n    }\n\n    if (e.target.password.value === \"\") {\n      setState(prevState => {\n        return { ...prevState,\n          error: { ...prevState.error,\n            password: {\n              msg: 'Password is required'\n            }\n          }\n        };\n      });\n      hasError = true;\n    } else {\n      setState(prevState => {\n        var _prevState$error2;\n\n        (_prevState$error2 = prevState.error) === null || _prevState$error2 === void 0 ? true : delete _prevState$error2.password;\n        return { ...prevState\n        };\n      });\n    }\n\n    if (hasError) return;\n    getLogin({\n      username: e.target.username.value,\n      password: e.target.password.value\n    });\n  };\n\n  const handleChange = e => {\n    setState({ ...state,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  const handleChangeCheckBox = e => {\n    setState({ ...state,\n      [e.target.name]: e.target.checked ? true : false\n    });\n  };\n\n  const getLogin = data => {\n    console.log(data);\n    /*fetch(\"/\", {\r\n        method: 'POST',\r\n        body: JSON.stringify(data),\r\n        headers: {\r\n            'Content-Type': 'application/json'\r\n        }\r\n    })\r\n        .then(resp => resp.json())\r\n        .then(data => {\r\n            console.log(\"Codigo si no es un usuario valido\");\r\n        })*/\n\n    sessionStorage.setItem('username', data.username);\n    sessionStorage.setItem('password', data.password);\n\n    if (state.rememberme) {\n      localStorage.setItem('username', data.username);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(FormRegister, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 37\n    }, this)\n  }, void 0, false);\n};\n\n_s(Form2, \"9718HozaEnWA/l8SeBweFSPu8lo=\");\n\n_c = Form2;\nexport default Form2;\n\nvar _c;\n\n$RefreshReg$(_c, \"Form2\");","map":{"version":3,"sources":["D:/ProyectosArian/final-zombiz/src/components/Form2.js"],"names":["useState","FormRegister","Form2","state","setState","username","password","mensaje","error","rememberme","onSubmit","e","preventDefault","console","log","hasError","target","value","prevState","msg","getLogin","handleChange","name","handleChangeCheckBox","checked","data","sessionStorage","setItem","localStorage"],"mappings":"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","sourcesContent":["import { useState } from \"react\";\r\nimport FormRegister from \"./FormRegister\";\r\n\r\n\r\nconst Form2 = () => {\r\n    /*const [state, setState] = useState ({\r\n        username: sessionStorage.getItem('username') ? sessionStorage.getItem('username') : '',\r\n        username: sessionStorage.getItem('password') ? sessionStorage.getItem('password') : '',  \r\n    })*/\r\n    \r\n\r\n    const [state, setState] = useState ({\r\n        username : '',\r\n        password : '',\r\n        mensaje : '',\r\n        error : null,\r\n        rememberme : true\r\n    })\r\n\r\n    const onSubmit = (e) => {\r\n        e.preventDefault ();\r\n        console.log(\"Enviando formulario\");\r\n        let hasError = false\r\n        if(e.target.username.value === \"\") { \r\n            setState(prevState => {\r\n                return {\r\n                    ...prevState,\r\n                    error: {\r\n                        ...prevState.error,\r\n                        username:{\r\n                            msg : 'Username is required',\r\n                        } \r\n                    }\r\n                }    \r\n            })\r\n            hasError = true;\r\n        } else {\r\n            setState(prevState => {\r\n                delete prevState.error?.username;\r\n                return {\r\n                    ...prevState, \r\n                }\r\n            })\r\n        } \r\n        if (e.target.password.value === \"\") {\r\n            setState(prevState => {\r\n                return {\r\n                    ...prevState,\r\n                    error: {\r\n                        ...prevState.error,\r\n                        password:{\r\n                            msg : 'Password is required',\r\n                        } \r\n                    }\r\n                }    \r\n            })\r\n            hasError = true;\r\n        } else {\r\n            setState(prevState => {\r\n                delete prevState.error?.password;\r\n                return {\r\n                    ...prevState, \r\n                }\r\n            })\r\n        } \r\n        \r\n        if (hasError) return;\r\n\r\n        getLogin({\r\n            username: e.target.username.value,\r\n            password: e.target.password.value,\r\n        })\r\n    }   \r\n\r\n    const handleChange = e => {\r\n        setState({\r\n            ...state,\r\n            [e.target.name]: e.target.value\r\n        })\r\n    }\r\n\r\n    const handleChangeCheckBox = e => {\r\n        setState({\r\n            ...state,\r\n            [e.target.name]: e.target.checked ? true : false\r\n        })\r\n    }\r\n\r\n    const getLogin = data => {\r\n        console.log(data)\r\n\r\n        /*fetch(\"/\", {\r\n            method: 'POST',\r\n            body: JSON.stringify(data),\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            }\r\n        })\r\n            .then(resp => resp.json())\r\n            .then(data => {\r\n                console.log(\"Codigo si no es un usuario valido\");\r\n            })*/\r\n\r\n            sessionStorage.setItem('username' , data.username);\r\n            sessionStorage.setItem('password' , data.password);\r\n            if(state.rememberme){\r\n                localStorage.setItem('username', data.username)\r\n            }\r\n    }        \r\n    return ( \r\n            <>\r\n                \r\n                            \r\n                                    <FormRegister/>\r\n                                \r\n                        \r\n        \r\n            </>\r\n        );\r\n}\r\n\r\nexport default Form2;"]},"metadata":{},"sourceType":"module"}