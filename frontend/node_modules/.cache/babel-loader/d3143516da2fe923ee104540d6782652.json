{"ast":null,"code":"var _jsxFileName = \"D:\\\\ProyectosArian\\\\final-zombiz\\\\src\\\\components\\\\Register.js\";\nimport { useEffect, useState } from \"react\";\nimport React from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst EMAIL_REGEX = new RegExp(/^(([^<>()\\[\\]\\.,;:\\s@\\\"]+(\\.[^<>()\\[\\]\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@(([^<>()[\\]\\.,;:\\s@\\\"]+\\.)+[^<>()[\\]\\.,;:\\s@\\\"]{2,})$/i); //const Register = () => {\n\nclass Register extends React.Component {\n  /*const [name, setName] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [email, setEmail] = useState(\"\");\r\n    const [state, setState] = useState ({\r\n      nombre : '',\r\n      email : '',\r\n      password : '',\r\n      error : null,\r\n      \r\n  })\r\n    const registrarse = async () => {\r\n      let item = {name,password,email}\r\n      let data = await fetch(`http://localhost:5000/register`,{\r\n          'method':'POST',\r\n          headers : {\r\n          'Content-Type':'application/json',\r\n          \"Accept\" :'application/json' \r\n          },\r\n      body:JSON.stringify(item)\r\n      })\r\n      if(data.ok){\r\n          let datos = await data.json();\r\n          console.log(datos)\r\n          localStorage.clear();\r\n          window.location.href = '/';\r\n      }\r\n  }\r\n    const onSubmit = (e) => {\r\n      e.preventDefault ();\r\n      console.log(\"Enviando formulario\");\r\n      let hasError = false\r\n      if(e.target.nombre.value === \"\") { \r\n          setState(prevState => {\r\n              return {\r\n                  ...prevState,\r\n                  error: {\r\n                      ...prevState.error,\r\n                      nombre:{\r\n                          msg : \"Por favor, introduzca su username\",\r\n                      } \r\n                  }\r\n              }    \r\n          })\r\n          hasError = true;\r\n      } else {\r\n          setState(prevState => {\r\n              delete prevState.error?.nombre;\r\n              return {\r\n                  ...prevState, \r\n              }\r\n          })\r\n      } \r\n      if(e.target.email.value === \"\") { \r\n          setState(prevState => {\r\n              return {\r\n                  ...prevState,\r\n                  error: {\r\n                      ...prevState.error,\r\n                      email:{\r\n                          msg : 'Por favor, introduzca su email',\r\n                      } \r\n                  }\r\n              }    \r\n          })\r\n          hasError = true;\r\n      } else {\r\n          setState(prevState => {\r\n              delete prevState.error?.nombre;\r\n              return {\r\n                  ...prevState, \r\n              }\r\n          })\r\n      } \r\n      if (e.target.password.value === \"\") {\r\n          setState(prevState => {\r\n              return {\r\n                  ...prevState,\r\n                  error: {\r\n                      ...prevState.error,\r\n                      password:{\r\n                          msg : 'Por favor, introduzca su password',\r\n                      } \r\n                  }\r\n              }    \r\n          })\r\n          hasError = true;\r\n      } else {\r\n          setState(prevState => {\r\n              delete prevState.error?.password;\r\n              return {\r\n                  ...prevState, \r\n              }\r\n          })\r\n      } \r\n      \r\n      /*if (!hasError == false){ \r\n          console.log(\"tengo error\")\r\n            return;\r\n      }*/\n  //if (hasError) return;\n  //}   \n\n  /*return (  \r\n      <>*/\n\n  /*<div className=\"modal fade bs-example-modal-lg\" tabIndex={-1} role=\"dialog\" aria-labelledby=\"myLargeModalLabel\">\r\n      <div className=\"modal-dialog modal-lg\" role=\"document\">\r\n          <div className=\"modal-content\">\r\n          <div className=\"modal-header\">\r\n              <button\r\n              type=\"button\"\r\n              className=\"close\"\r\n              data-dismiss=\"modal\"\r\n              aria-label=\"Close\"\r\n              >\r\n              <span aria-hidden=\"true\">\r\n                  <i className=\"fa fa-close\" />\r\n              </span>\r\n              </button>\r\n              <h4 className=\"modal-title\" id=\"myLargeModalLabel\">\r\n              Registrarse\r\n              </h4>\r\n              <form className=\"lg-frm\" style={{ padding: 25 }} onSubmit={onSubmit}>\r\n              <label>Nombre :</label>\r\n              <input\r\n                  type=\"text\"\r\n                  className=\"form-control\"\r\n                  placeholder=\"Introduzca su nombre\"\r\n                  name=\"nombre\"\r\n                  //value={state.nombre}\r\n                  onChange={(e) => setName(e.target.value)}\r\n              />\r\n              {!!state.error && state.error.nombre ? state.error.nombre.msg : \"\"}\r\n              <br/>\r\n                <label>Email :</label>\r\n              <input\r\n                  type=\"email\"\r\n                  className=\"form-control\"\r\n                  placeholder=\"Introduzca su email\"\r\n                  name=\"email\"\r\n                  //value={state.email}\r\n                  onChange={(e) => setEmail(e.target.value)}\r\n              />\r\n              {!!state.error && state.error.email ? state.error.email.msg : \"\"}\r\n              <br/>\r\n                <label>Password :</label>\r\n              <input\r\n                  type=\"password\"\r\n                  className=\"form-control\"\r\n                  placeholder=\"Introduzca su password\"\r\n                  name=\"password\"\r\n                  ///value={state.password}\r\n                  onChange={(e) => setPassword(e.target.value)}\r\n              />\r\n              {!!state.error && state.error.password ? state.error.password.msg : \"\"}\r\n              <br/>\r\n              \r\n              <button\r\n                  type=\"button\"\r\n                  className=\"btn btn-default pull-right\"\r\n                  type=\"submit\"\r\n                  value=\"Submit\"\r\n                  onClick={registrarse}\r\n              >\r\n                  Enviar\r\n              </button>\r\n              </form>\r\n          </div>\r\n          </div>\r\n      </div>\r\n  </div>\r\n  </>\r\n  );*/\n\n  /* constructor() {\r\n       super();\r\n       this.state = {\r\n       name: '',\r\n       email: '',\r\n       password: '',\r\n       touched: {\r\n           name: false,\r\n           email: false,\r\n           password: false\r\n       },\r\n       errors: {\r\n           required: {\r\n           name: false,\r\n           email: false,\r\n           password: false\r\n           },\r\n           valid: {\r\n           email: false,\r\n           name: true,\r\n           password: true\r\n           }\r\n       }\r\n       };\r\n   \r\n       this.handleSubmit = this.handleSubmit.bind(this);\r\n       this.handleChange = this.handleChange.bind(this);\r\n       this.handleBlur = this.handleBlur.bind(this);\r\n   }\r\n     \r\n   handleSubmit(event) {\r\n       event.preventDefault();\r\n   }\r\n     \r\n       handleChange(event) {\r\n         const target = event.target;\r\n         const { value, name } = target;\r\n         const errors = {\r\n           required: { ...this.state.errors.required, [name]: false }\r\n         };\r\n         this.setState({\r\n           [name]: value,\r\n           errors: { ...this.state.errors, ...errors }\r\n         });\r\n       }\r\n     \r\n       handleBlur(event) {\r\n         const field = event.target.name;\r\n         this.setState({\r\n           touched: { ...this.state.touched, [field]: true }\r\n         });\r\n         this.validate(event);\r\n       }\r\n     \r\n       validate(event) {\r\n         const target = event.target;\r\n         const { value, name } = target;\r\n     \r\n         if (value.length === 0) {\r\n           const errors = {\r\n             required: { ...this.state.errors.required, [name]: true }\r\n           };\r\n     \r\n           this.setState({\r\n             errors: { ...this.state.errors, ...errors }\r\n           });\r\n           return;\r\n         }\r\n     \r\n         if (name === 'email') {\r\n           this.validateEmail(value);\r\n         }\r\n       }\r\n     \r\n       validateEmail(email) {\r\n         const emailIsValid = EMAIL_REGEX.test(this.state.email);\r\n         const errors = {\r\n           valid: { ...this.state.errors.valid, email: emailIsValid }\r\n         };\r\n     \r\n         this.setState({\r\n           errors: { ...this.state.errors, ...errors }\r\n         });\r\n       }\r\n     \r\n       hasError(field) {\r\n         return (this.state.errors.required[field] || !this.state.errors.valid[field]) && this.state.touched[field];\r\n       }\r\n     \r\n       isFormInvalid() {\r\n         const { email, name, errors } = this.state;\r\n         const { required, valid } = errors;\r\n         const isSomeFieldRequired = Object.keys(required).some(error => required[error]);\r\n         const isSomeFieldInvalid = Object.keys(valid).some(error => !valid[error]);\r\n     \r\n         return isSomeFieldInvalid || isSomeFieldRequired;\r\n       }\r\n     \r\n       displayError(field) {\r\n         const { required, valid } = this.state.errors;\r\n         const errorMessage = `Field ${field} is `;\r\n     \r\n         if (required[field]) {\r\n           return `${errorMessage} required`;\r\n         }\r\n     \r\n         if (!valid[field]) {\r\n           return `${errorMessage} not valid`;\r\n         }\r\n       }\r\n     \r\n       render() {\r\n         const { email, name, password, errors } = this.state;\r\n     \r\n         \r\n   return (  \r\n       <>*/\n\n  /*<div className=\"modal fade bs-example-modal-lg\" tabIndex={-1} role=\"dialog\" aria-labelledby=\"myLargeModalLabel\">\r\n      <div className=\"modal-dialog modal-lg\" role=\"document\">\r\n          <div className=\"modal-content\">\r\n          <div className=\"modal-header\">\r\n              <button\r\n              type=\"button\"\r\n              className=\"close\"\r\n              data-dismiss=\"modal\"\r\n              aria-label=\"Close\"\r\n              >\r\n              <span aria-hidden=\"true\">\r\n                  <i className=\"fa fa-close\" />\r\n              </span>\r\n              </button>\r\n              <h4 className=\"modal-title\" id=\"myLargeModalLabel\">\r\n              Registrarse\r\n              </h4>\r\n              <form className=\"lg-frm\" style={{ padding: 25 }} onSubmit={this.handleSubmi}>\r\n              <label>Nombre :</label>\r\n              <input\r\n                  type=\"text\"\r\n                  value = {name}\r\n                  className={this.hasError('name') ? 'error' : ''}\r\n                  placeholder=\"Introduzca su nombre\"\r\n                  name=\"name\"\r\n                  onChange={this.handleChange}\r\n                  onBlur={this.handleBlur}\r\n              />\r\n              <p className={this.hasError('name') ? 'error-message__visible' : 'error-message'}>\r\n                  {this.displayError('name')}\r\n              </p>\r\n              \r\n              <br/>\r\n                <label>Email :</label>\r\n              <input\r\n                  type=\"email\"\r\n                  className=\"form-control\"\r\n                  placeholder=\"Introduzca su email\"\r\n                  name=\"email\"\r\n                  //value={state.email}\r\n                  onChange={(e) => setEmail(e.target.value)}\r\n              />\r\n              {!!state.error && state.error.email ? state.error.email.msg : \"\"}\r\n              <br/>\r\n                <label>Password :</label>\r\n              <input\r\n                  type=\"password\"\r\n                  className=\"form-control\"\r\n                  placeholder=\"Introduzca su password\"\r\n                  name=\"password\"\r\n                  ///value={state.password}\r\n                  onChange={(e) => setPassword(e.target.value)}\r\n              />\r\n              {!!state.error && state.error.password ? state.error.password.msg : \"\"}\r\n              <br/>\r\n              \r\n              <button\r\n                  type=\"button\"\r\n                  className=\"btn btn-default pull-right\"\r\n                  type=\"submit\"\r\n                  value=\"Submit\"\r\n                  onClick={registrarse}\r\n              >\r\n                  Enviar\r\n              </button>\r\n              </form>\r\n          </div>\r\n          </div>\r\n      </div>\r\n  </div>\r\n  </>\r\n  );\r\n  }*/\n  constructor() {\n    super();\n    this.state = {\n      name: '',\n      email: '',\n      password: '',\n      touched: {\n        name: false,\n        email: false,\n        password: false\n      },\n      errors: {\n        required: {\n          name: false,\n          email: false,\n          password: false\n        },\n        valid: {\n          email: false,\n          name: true,\n          password: true\n        }\n      }\n    };\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n    this.handleBlur = this.handleBlur.bind(this);\n  }\n\n  handleSubmit(event) {\n    console.log(event);\n    event.preventDefault();\n    alert(\"Voy a enviar\");\n\n    const registrarse = async () => {\n      let item = {\n        password,\n        email,\n        name\n      };\n      let data = await fetch(`http://localhost:5000/register`, {\n        'method': 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          \"Accept\": 'application/json'\n        },\n        body: JSON.stringify(item)\n      });\n\n      if (data.ok) {\n        let datos = await data.json();\n        console.log(datos);\n        localStorage.clear();\n        window.location.href = '/';\n      }\n    };\n  }\n\n  handleChange(event) {\n    const target = event.target;\n    const {\n      value,\n      name\n    } = target;\n    const errors = {\n      required: { ...this.state.errors.required,\n        [name]: false\n      }\n    };\n    this.setState({\n      [name]: value,\n      errors: { ...this.state.errors,\n        ...errors\n      }\n    });\n  }\n\n  handleBlur(event) {\n    const field = event.target.name;\n    this.setState({\n      touched: { ...this.state.touched,\n        [field]: true\n      }\n    });\n    this.validate(event);\n  }\n\n  validate(event) {\n    const target = event.target;\n    const {\n      value,\n      name\n    } = target;\n\n    if (value.length === 0) {\n      const errors = {\n        required: { ...this.state.errors.required,\n          [name]: true\n        }\n      };\n      this.setState({\n        errors: { ...this.state.errors,\n          ...errors\n        }\n      });\n      return;\n    }\n\n    if (name === 'email') {\n      this.validateEmail(value);\n    }\n  }\n\n  validateEmail(email) {\n    const emailIsValid = EMAIL_REGEX.test(this.state.email);\n    const errors = {\n      valid: { ...this.state.errors.valid,\n        email: emailIsValid\n      }\n    };\n    this.setState({\n      errors: { ...this.state.errors,\n        ...errors\n      }\n    });\n  }\n\n  hasError(field) {\n    return (this.state.errors.required[field] || !this.state.errors.valid[field]) && this.state.touched[field];\n  }\n\n  isFormInvalid() {\n    const {\n      email,\n      name,\n      password,\n      errors\n    } = this.state;\n    const {\n      required,\n      valid\n    } = errors;\n    const isSomeFieldRequired = Object.keys(required).some(error => required[error]);\n    const isSomeFieldInvalid = Object.keys(valid).some(error => !valid[error]);\n    return isSomeFieldInvalid || isSomeFieldRequired;\n  }\n\n  displayError(field) {\n    const {\n      required,\n      valid\n    } = this.state.errors;\n    const errorMessage = `Field ${field} is `;\n\n    if (required[field]) {\n      return `${errorMessage} required`;\n    }\n\n    if (!valid[field]) {\n      return `${errorMessage} not valid`;\n    }\n  }\n\n  render() {\n    const {\n      email,\n      name,\n      password,\n      errors\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal fade bs-example-modal-lg\",\n        tabIndex: -1,\n        role: \"dialog\",\n        \"aria-labelledby\": \"myLargeModalLabel\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-dialog modal-lg\",\n          role: \"document\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"modal-content\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"modal-header\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                className: \"close\",\n                \"data-dismiss\": \"modal\",\n                \"aria-label\": \"Close\",\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  \"aria-hidden\": \"true\",\n                  children: /*#__PURE__*/_jsxDEV(\"i\", {\n                    className: \"fa fa-close\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 539,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 538,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 532,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n                className: \"modal-title\",\n                id: \"myLargeModalLabel\",\n                children: \"Registrarse\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 542,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n                onSubmit: this.handleSubmit,\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"row-input\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    children: \"Nombre\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 548,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"text\",\n                    value: name,\n                    onChange: this.handleChange,\n                    onBlur: this.handleBlur,\n                    className: this.hasError('name') ? 'error' : '',\n                    name: \"name\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 549,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: this.hasError('name') ? 'error-message__visible' : 'error-message',\n                    children: this.displayError('name')\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 555,\n                    columnNumber: 29\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 547,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"row-input\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    children: \"Email\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 560,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"text\",\n                    value: email,\n                    onChange: this.handleChange,\n                    onBlur: this.handleBlur,\n                    className: this.hasError('email') ? 'error' : '',\n                    name: \"email\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 561,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: this.hasError('email') ? 'error-message__visible' : 'error-message',\n                    children: this.displayError('email')\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 567,\n                    columnNumber: 29\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 559,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"row-input\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    children: \"Password\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 572,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"password\",\n                    value: password,\n                    onChange: this.handleChange,\n                    onBlur: this.handleBlur,\n                    className: this.hasError('password') ? 'error' : '',\n                    name: \"password\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 573,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: this.hasError('password') ? 'error-message__visible' : 'error-message',\n                    children: this.displayError('password')\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 579,\n                    columnNumber: 29\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 571,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"submit-button-container\",\n                  children: /*#__PURE__*/_jsxDEV(\"button\", {\n                    type: \"submit\",\n                    disabled: this.isFormInvalid(),\n                    children: \"Send\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 584,\n                    columnNumber: 29\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 583,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 546,\n                columnNumber: 25\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 531,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 530,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 529,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 528,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 526,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default Register;","map":{"version":3,"sources":["D:/ProyectosArian/final-zombiz/src/components/Register.js"],"names":["useEffect","useState","React","EMAIL_REGEX","RegExp","Register","Component","constructor","state","name","email","password","touched","errors","required","valid","handleSubmit","bind","handleChange","handleBlur","event","console","log","preventDefault","alert","registrarse","item","data","fetch","headers","body","JSON","stringify","ok","datos","json","localStorage","clear","window","location","href","target","value","setState","field","validate","length","validateEmail","emailIsValid","test","hasError","isFormInvalid","isSomeFieldRequired","Object","keys","some","error","isSomeFieldInvalid","displayError","errorMessage","render"],"mappings":";AAAA,SAASA,SAAT,EAAoBC,QAApB,QAAoC,OAApC;AAEA,OAAOC,KAAP,MAAkB,OAAlB;;AAEA,MAAMC,WAAW,GAAG,IAAIC,MAAJ,CAAW,wHAAX,CAApB,C,CAEA;;AAEA,MAAMC,QAAN,SAAuBH,KAAK,CAACI,SAA7B,CAAuC;AAEnC;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAKQ;AACJ;;AAEA;AACJ;;AAEY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAMG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAOAC,EAAAA,WAAW,GAAG;AACV;AACA,SAAKC,KAAL,GAAa;AACXC,MAAAA,IAAI,EAAE,EADK;AAEXC,MAAAA,KAAK,EAAE,EAFI;AAGXC,MAAAA,QAAQ,EAAC,EAHE;AAIXC,MAAAA,OAAO,EAAE;AACPH,QAAAA,IAAI,EAAE,KADC;AAEPC,QAAAA,KAAK,EAAE,KAFA;AAGPC,QAAAA,QAAQ,EAAE;AAHH,OAJE;AASXE,MAAAA,MAAM,EAAE;AACNC,QAAAA,QAAQ,EAAE;AACRL,UAAAA,IAAI,EAAE,KADE;AAERC,UAAAA,KAAK,EAAE,KAFC;AAGRC,UAAAA,QAAQ,EAAE;AAHF,SADJ;AAMNI,QAAAA,KAAK,EAAE;AACLL,UAAAA,KAAK,EAAE,KADF;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","sourcesContent":["import { useEffect, useState } from \"react\";\r\n\r\nimport React from \"react\";\r\n\r\nconst EMAIL_REGEX = new RegExp(/^(([^<>()\\[\\]\\.,;:\\s@\\\"]+(\\.[^<>()\\[\\]\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@(([^<>()[\\]\\.,;:\\s@\\\"]+\\.)+[^<>()[\\]\\.,;:\\s@\\\"]{2,})$/i);\r\n\r\n//const Register = () => {\r\n\r\nclass Register extends React.Component {\r\n\r\n    /*const [name, setName] = useState(\"\");\r\n    const [password, setPassword] = useState(\"\");\r\n    const [email, setEmail] = useState(\"\");\r\n\r\n    const [state, setState] = useState ({\r\n        nombre : '',\r\n        email : '',\r\n        password : '',\r\n        error : null,\r\n        \r\n    })\r\n\r\n    const registrarse = async () => {\r\n        let item = {name,password,email}\r\n        let data = await fetch(`http://localhost:5000/register`,{\r\n            'method':'POST',\r\n            headers : {\r\n            'Content-Type':'application/json',\r\n            \"Accept\" :'application/json' \r\n            },\r\n        body:JSON.stringify(item)\r\n        })\r\n        if(data.ok){\r\n            let datos = await data.json();\r\n            console.log(datos)\r\n            localStorage.clear();\r\n            window.location.href = '/';\r\n        }\r\n    }\r\n\r\n    const onSubmit = (e) => {\r\n        e.preventDefault ();\r\n        console.log(\"Enviando formulario\");\r\n        let hasError = false\r\n        if(e.target.nombre.value === \"\") { \r\n            setState(prevState => {\r\n                return {\r\n                    ...prevState,\r\n                    error: {\r\n                        ...prevState.error,\r\n                        nombre:{\r\n                            msg : \"Por favor, introduzca su username\",\r\n                        } \r\n                    }\r\n                }    \r\n            })\r\n            hasError = true;\r\n        } else {\r\n            setState(prevState => {\r\n                delete prevState.error?.nombre;\r\n                return {\r\n                    ...prevState, \r\n                }\r\n            })\r\n        } \r\n        if(e.target.email.value === \"\") { \r\n            setState(prevState => {\r\n                return {\r\n                    ...prevState,\r\n                    error: {\r\n                        ...prevState.error,\r\n                        email:{\r\n                            msg : 'Por favor, introduzca su email',\r\n                        } \r\n                    }\r\n                }    \r\n            })\r\n            hasError = true;\r\n        } else {\r\n            setState(prevState => {\r\n                delete prevState.error?.nombre;\r\n                return {\r\n                    ...prevState, \r\n                }\r\n            })\r\n        } \r\n        if (e.target.password.value === \"\") {\r\n            setState(prevState => {\r\n                return {\r\n                    ...prevState,\r\n                    error: {\r\n                        ...prevState.error,\r\n                        password:{\r\n                            msg : 'Por favor, introduzca su password',\r\n                        } \r\n                    }\r\n                }    \r\n            })\r\n            hasError = true;\r\n        } else {\r\n            setState(prevState => {\r\n                delete prevState.error?.password;\r\n                return {\r\n                    ...prevState, \r\n                }\r\n            })\r\n        } \r\n        \r\n        /*if (!hasError == false){ \r\n            console.log(\"tengo error\")\r\n\r\n            return;\r\n        }*/\r\n        //if (hasError) return;\r\n    //}   \r\n\r\n    /*return (  \r\n        <>*/\r\n          \r\n            /*<div className=\"modal fade bs-example-modal-lg\" tabIndex={-1} role=\"dialog\" aria-labelledby=\"myLargeModalLabel\">\r\n                <div className=\"modal-dialog modal-lg\" role=\"document\">\r\n                    <div className=\"modal-content\">\r\n                    <div className=\"modal-header\">\r\n                        <button\r\n                        type=\"button\"\r\n                        className=\"close\"\r\n                        data-dismiss=\"modal\"\r\n                        aria-label=\"Close\"\r\n                        >\r\n                        <span aria-hidden=\"true\">\r\n                            <i className=\"fa fa-close\" />\r\n                        </span>\r\n                        </button>\r\n                        <h4 className=\"modal-title\" id=\"myLargeModalLabel\">\r\n                        Registrarse\r\n                        </h4>\r\n                        <form className=\"lg-frm\" style={{ padding: 25 }} onSubmit={onSubmit}>\r\n                        <label>Nombre :</label>\r\n                        <input\r\n                            type=\"text\"\r\n                            className=\"form-control\"\r\n                            placeholder=\"Introduzca su nombre\"\r\n                            name=\"nombre\"\r\n                            //value={state.nombre}\r\n                            onChange={(e) => setName(e.target.value)}\r\n                        />\r\n                        {!!state.error && state.error.nombre ? state.error.nombre.msg : \"\"}\r\n                        <br/>\r\n\r\n                        <label>Email :</label>\r\n                        <input\r\n                            type=\"email\"\r\n                            className=\"form-control\"\r\n                            placeholder=\"Introduzca su email\"\r\n                            name=\"email\"\r\n                            //value={state.email}\r\n                            onChange={(e) => setEmail(e.target.value)}\r\n                        />\r\n                        {!!state.error && state.error.email ? state.error.email.msg : \"\"}\r\n                        <br/>\r\n\r\n                        <label>Password :</label>\r\n                        <input\r\n                            type=\"password\"\r\n                            className=\"form-control\"\r\n                            placeholder=\"Introduzca su password\"\r\n                            name=\"password\"\r\n                            ///value={state.password}\r\n                            onChange={(e) => setPassword(e.target.value)}\r\n                        />\r\n                        {!!state.error && state.error.password ? state.error.password.msg : \"\"}\r\n                        <br/>\r\n                        \r\n                        <button\r\n                            type=\"button\"\r\n                            className=\"btn btn-default pull-right\"\r\n                            type=\"submit\"\r\n                            value=\"Submit\"\r\n                            onClick={registrarse}\r\n                        >\r\n                            Enviar\r\n                        </button>\r\n                        </form>\r\n                    </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </>\r\n\r\n    );*/\r\n\r\n\r\n   /* constructor() {\r\n        super();\r\n        this.state = {\r\n        name: '',\r\n        email: '',\r\n        password: '',\r\n        touched: {\r\n            name: false,\r\n            email: false,\r\n            password: false\r\n        },\r\n        errors: {\r\n            required: {\r\n            name: false,\r\n            email: false,\r\n            password: false\r\n            },\r\n            valid: {\r\n            email: false,\r\n            name: true,\r\n            password: true\r\n            }\r\n        }\r\n        };\r\n    \r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n        this.handleChange = this.handleChange.bind(this);\r\n        this.handleBlur = this.handleBlur.bind(this);\r\n    }\r\n      \r\n    handleSubmit(event) {\r\n        event.preventDefault();\r\n    }\r\n      \r\n        handleChange(event) {\r\n          const target = event.target;\r\n          const { value, name } = target;\r\n          const errors = {\r\n            required: { ...this.state.errors.required, [name]: false }\r\n          };\r\n          this.setState({\r\n            [name]: value,\r\n            errors: { ...this.state.errors, ...errors }\r\n          });\r\n        }\r\n      \r\n        handleBlur(event) {\r\n          const field = event.target.name;\r\n          this.setState({\r\n            touched: { ...this.state.touched, [field]: true }\r\n          });\r\n          this.validate(event);\r\n        }\r\n      \r\n        validate(event) {\r\n          const target = event.target;\r\n          const { value, name } = target;\r\n      \r\n          if (value.length === 0) {\r\n            const errors = {\r\n              required: { ...this.state.errors.required, [name]: true }\r\n            };\r\n      \r\n            this.setState({\r\n              errors: { ...this.state.errors, ...errors }\r\n            });\r\n            return;\r\n          }\r\n      \r\n          if (name === 'email') {\r\n            this.validateEmail(value);\r\n          }\r\n        }\r\n      \r\n        validateEmail(email) {\r\n          const emailIsValid = EMAIL_REGEX.test(this.state.email);\r\n          const errors = {\r\n            valid: { ...this.state.errors.valid, email: emailIsValid }\r\n          };\r\n      \r\n          this.setState({\r\n            errors: { ...this.state.errors, ...errors }\r\n          });\r\n        }\r\n      \r\n        hasError(field) {\r\n          return (this.state.errors.required[field] || !this.state.errors.valid[field]) && this.state.touched[field];\r\n        }\r\n      \r\n        isFormInvalid() {\r\n          const { email, name, errors } = this.state;\r\n          const { required, valid } = errors;\r\n          const isSomeFieldRequired = Object.keys(required).some(error => required[error]);\r\n          const isSomeFieldInvalid = Object.keys(valid).some(error => !valid[error]);\r\n      \r\n          return isSomeFieldInvalid || isSomeFieldRequired;\r\n        }\r\n      \r\n        displayError(field) {\r\n          const { required, valid } = this.state.errors;\r\n          const errorMessage = `Field ${field} is `;\r\n      \r\n          if (required[field]) {\r\n            return `${errorMessage} required`;\r\n          }\r\n      \r\n          if (!valid[field]) {\r\n            return `${errorMessage} not valid`;\r\n          }\r\n        }\r\n      \r\n        render() {\r\n          const { email, name, password, errors } = this.state;\r\n      \r\n          \r\n    return (  \r\n        <>*/\r\n           \r\n            /*<div className=\"modal fade bs-example-modal-lg\" tabIndex={-1} role=\"dialog\" aria-labelledby=\"myLargeModalLabel\">\r\n                <div className=\"modal-dialog modal-lg\" role=\"document\">\r\n                    <div className=\"modal-content\">\r\n                    <div className=\"modal-header\">\r\n                        <button\r\n                        type=\"button\"\r\n                        className=\"close\"\r\n                        data-dismiss=\"modal\"\r\n                        aria-label=\"Close\"\r\n                        >\r\n                        <span aria-hidden=\"true\">\r\n                            <i className=\"fa fa-close\" />\r\n                        </span>\r\n                        </button>\r\n                        <h4 className=\"modal-title\" id=\"myLargeModalLabel\">\r\n                        Registrarse\r\n                        </h4>\r\n                        <form className=\"lg-frm\" style={{ padding: 25 }} onSubmit={this.handleSubmi}>\r\n                        <label>Nombre :</label>\r\n                        <input\r\n                            type=\"text\"\r\n                            value = {name}\r\n                            className={this.hasError('name') ? 'error' : ''}\r\n                            placeholder=\"Introduzca su nombre\"\r\n                            name=\"name\"\r\n                            onChange={this.handleChange}\r\n                            onBlur={this.handleBlur}\r\n                        />\r\n                        <p className={this.hasError('name') ? 'error-message__visible' : 'error-message'}>\r\n                            {this.displayError('name')}\r\n                        </p>\r\n                        \r\n                        <br/>\r\n\r\n                        <label>Email :</label>\r\n                        <input\r\n                            type=\"email\"\r\n                            className=\"form-control\"\r\n                            placeholder=\"Introduzca su email\"\r\n                            name=\"email\"\r\n                            //value={state.email}\r\n                            onChange={(e) => setEmail(e.target.value)}\r\n                        />\r\n                        {!!state.error && state.error.email ? state.error.email.msg : \"\"}\r\n                        <br/>\r\n\r\n                        <label>Password :</label>\r\n                        <input\r\n                            type=\"password\"\r\n                            className=\"form-control\"\r\n                            placeholder=\"Introduzca su password\"\r\n                            name=\"password\"\r\n                            ///value={state.password}\r\n                            onChange={(e) => setPassword(e.target.value)}\r\n                        />\r\n                        {!!state.error && state.error.password ? state.error.password.msg : \"\"}\r\n                        <br/>\r\n                        \r\n                        <button\r\n                            type=\"button\"\r\n                            className=\"btn btn-default pull-right\"\r\n                            type=\"submit\"\r\n                            value=\"Submit\"\r\n                            onClick={registrarse}\r\n                        >\r\n                            Enviar\r\n                        </button>\r\n                        </form>\r\n                    </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </>\r\n\r\n    );\r\n}*/\r\n\r\n\r\n\r\nconstructor() {\r\n    super();\r\n    this.state = {\r\n      name: '',\r\n      email: '',\r\n      password:'',\r\n      touched: {\r\n        name: false,\r\n        email: false,\r\n        password: false\r\n      },\r\n      errors: {\r\n        required: {\r\n          name: false,\r\n          email: false,\r\n          password: false\r\n        },\r\n        valid: {\r\n          email: false,\r\n          name: true,\r\n          password: true\r\n        }\r\n      }\r\n    };\r\n\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n    this.handleChange = this.handleChange.bind(this);\r\n    this.handleBlur = this.handleBlur.bind(this);\r\n  }\r\n\r\n  handleSubmit(event) {\r\n      console.log(event)\r\n    event.preventDefault();\r\n    alert(\"Voy a enviar\")\r\n    const registrarse = async () => {\r\n        let item = {password,email,name}\r\n        let data = await fetch(`http://localhost:5000/register`,{\r\n            'method':'POST',\r\n            headers : {\r\n            'Content-Type':'application/json',\r\n            \"Accept\" :'application/json' \r\n            },\r\n        body:JSON.stringify(item)\r\n        })\r\n        if(data.ok){\r\n            let datos = await data.json();\r\n            console.log(datos)\r\n            localStorage.clear();\r\n            window.location.href = '/';\r\n        }\r\n    }\r\n\r\n\r\n  }\r\n\r\n  handleChange(event) {\r\n    const target = event.target;\r\n    const { value, name } = target;\r\n    const errors = {\r\n      required: { ...this.state.errors.required, [name]: false }\r\n    };\r\n    this.setState({\r\n      [name]: value,\r\n      errors: { ...this.state.errors, ...errors }\r\n    });\r\n  }\r\n\r\n  handleBlur(event) {\r\n    const field = event.target.name;\r\n    this.setState({\r\n      touched: { ...this.state.touched, [field]: true }\r\n    });\r\n    this.validate(event);\r\n  }\r\n\r\n  validate(event) {\r\n    const target = event.target;\r\n    const { value, name } = target;\r\n\r\n    if (value.length === 0) {\r\n      const errors = {\r\n        required: { ...this.state.errors.required, [name]: true }\r\n      };\r\n\r\n      this.setState({\r\n        errors: { ...this.state.errors, ...errors }\r\n      });\r\n      return;\r\n    }\r\n\r\n    if (name === 'email') {\r\n      this.validateEmail(value);\r\n    }\r\n  }\r\n\r\n  validateEmail(email) {\r\n    const emailIsValid = EMAIL_REGEX.test(this.state.email);\r\n    const errors = {\r\n      valid: { ...this.state.errors.valid, email: emailIsValid }\r\n    };\r\n\r\n    this.setState({\r\n      errors: { ...this.state.errors, ...errors }\r\n    });\r\n  }\r\n\r\n  hasError(field) {\r\n    return (this.state.errors.required[field] || !this.state.errors.valid[field]) && this.state.touched[field];\r\n  }\r\n\r\n  isFormInvalid() {\r\n    const { email, name, password, errors } = this.state;\r\n    const { required, valid } = errors;\r\n    const isSomeFieldRequired = Object.keys(required).some(error => required[error]);\r\n    const isSomeFieldInvalid = Object.keys(valid).some(error => !valid[error]);\r\n\r\n    return isSomeFieldInvalid || isSomeFieldRequired;\r\n  }\r\n\r\n  displayError(field) {\r\n    const { required, valid } = this.state.errors;\r\n    const errorMessage = `Field ${field} is `;\r\n\r\n    if (required[field]) {\r\n      return `${errorMessage} required`;\r\n    }\r\n\r\n    if (!valid[field]) {\r\n      return `${errorMessage} not valid`;\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { email, name, password, errors } = this.state;\r\n\r\n    return (\r\n      <div>\r\n\r\n        <div className=\"modal fade bs-example-modal-lg\" tabIndex={-1} role=\"dialog\" aria-labelledby=\"myLargeModalLabel\">\r\n            <div className=\"modal-dialog modal-lg\" role=\"document\">\r\n                <div className=\"modal-content\">\r\n                <div className=\"modal-header\">\r\n                    <button\r\n                    type=\"button\"\r\n                    className=\"close\"\r\n                    data-dismiss=\"modal\"\r\n                    aria-label=\"Close\"\r\n                    >\r\n                    <span aria-hidden=\"true\">\r\n                        <i className=\"fa fa-close\" />\r\n                    </span>\r\n                    </button>\r\n                    <h4 className=\"modal-title\" id=\"myLargeModalLabel\">\r\n                    Registrarse\r\n                    </h4>\r\n\r\n                        <form onSubmit={this.handleSubmit}>\r\n                        <div className=\"row-input\">\r\n                            <label>Nombre</label>\r\n                            <input type=\"text\"\r\n                            value={name}\r\n                            onChange={this.handleChange}\r\n                            onBlur={this.handleBlur}\r\n                            className={this.hasError('name') ? 'error' : ''}\r\n                            name=\"name\" />\r\n                            <p className={this.hasError('name') ? 'error-message__visible' : 'error-message'}>\r\n                            {this.displayError('name')}\r\n                            </p>\r\n                        </div>\r\n                        <div className=\"row-input\">\r\n                            <label>Email</label>\r\n                            <input type=\"text\"\r\n                            value={email}\r\n                            onChange={this.handleChange}\r\n                            onBlur={this.handleBlur}\r\n                            className={this.hasError('email') ? 'error' : ''}\r\n                            name=\"email\" />\r\n                            <p className={this.hasError('email') ? 'error-message__visible' : 'error-message'}>\r\n                            {this.displayError('email')}\r\n                            </p>\r\n                        </div>\r\n                        <div className=\"row-input\">\r\n                            <label>Password</label>\r\n                            <input type=\"password\"\r\n                            value={password}\r\n                            onChange={this.handleChange}\r\n                            onBlur={this.handleBlur}\r\n                            className={this.hasError('password') ? 'error' : ''}\r\n                            name=\"password\" />\r\n                            <p className={this.hasError('password') ? 'error-message__visible' : 'error-message'}>\r\n                            {this.displayError('password')}\r\n                            </p>\r\n                        </div>\r\n                        <div className=\"submit-button-container\">\r\n                            <button\r\n                            type=\"submit\"\r\n                            disabled={this.isFormInvalid()}>\r\n                            Send\r\n                            </button>\r\n                        </div>\r\n                        </form>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n\r\nexport default Register;"]},"metadata":{},"sourceType":"module"}